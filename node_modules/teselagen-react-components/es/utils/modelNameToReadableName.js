import { startCase, lowerCase } from "lodash";
import pluralize from "pluralize";

var modelNameMap = {},
    upperModelNameMap = {};

export var setModelUppercaseMap = function setModelUppercaseMap(map) {
  upperModelNameMap = map;
};

export var setModelLowercaseMap = function setModelLowercaseMap(map) {
  modelNameMap = map;
};

export default function modelNameToReadableName(modelName) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      upperCase = _ref.upperCase,
      sanitize = _ref.sanitize,
      plural = _ref.plural;

  var modelNameToUse = modelName;
  if (upperCase) {
    modelNameToUse = upperModelNameMap[modelNameToUse] || startCase(modelNameToUse);
  } else {
    modelNameToUse = modelNameMap[modelNameToUse] || lowerCase(modelNameToUse);
  }
  if (sanitize) {
    modelNameToUse = sanitize(modelNameToUse);
  }
  if (/^j 5/i.test(modelNameToUse)) {
    modelNameToUse = modelNameToUse.replace(/^j 5/i, "j5");
  }
  if (plural) modelNameToUse = pluralize(modelNameToUse);
  if (modelName === "j5Report") modelNameToUse += " (j5)";
  return modelNameToUse;
}