"use strict";

exports.__esModule = true;
exports.default = rerenderOnWindowResize;

var _lodash = require("lodash");

// use like this within a react component: 

// constructor(props){
//   super(props)
//   rerenderOnWindowResize(this)
// }


function rerenderOnWindowResize(that) {
  that.updateDimensions = (0, _lodash.throttle)(function () {
    if (that.props.disabled) return;
    that.forceUpdate();
  }, 250);
  var componentDidMount = that.componentDidMount;
  var componentWillUnmount = that.componentWillUnmount;

  that.componentDidMount = function () {
    componentDidMount && componentDidMount.bind(that).apply(undefined, arguments);
    window.addEventListener("resize", that.updateDimensions);
  };

  that.componentWillUnmount = function () {
    componentWillUnmount && componentWillUnmount.bind(that).apply(undefined, arguments);
    window.removeEventListener("resize", that.updateDimensions);
  };
}
module.exports = exports["default"];