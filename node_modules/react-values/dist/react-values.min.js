!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.ReactValues={},e.React)}(this,function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i=function(e){function t(e,r,o){n(this,t);var u=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=void 0!==e.value,c=o;return void 0!==e.defaultValue&&(c=e.defaultValue),void 0!==e.value&&(c=e.value),u.state={controlled:i,value:c},u.transforms={},u.computeds={},u.mounted=!1,u.define("set",function(e,t){return t}),u.define("reset",function(){return u.clone(c)}),u.define("clear",function(){return u.clone(o)}),u}return u(t,e),r(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"clone",value:function(e){return e}},{key:"transform",value:function(e,t){var n=this,r=this.props,o=r.disabled,u=r.value,a=r.onChange;if(this.mounted&&!o)if(this.state.controlled){var i=this.apply(u,e,t);a&&a(i)}else this.setState(function(r){return{value:n.apply(r.value,e,t)}},function(){a&&a(n.state.value)})}},{key:"apply",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).mutates,r=void 0!==n&&n?this.clone(e):e;return"function"==typeof t?t(r):t}},{key:"define",value:function(e,t,n){var r=this;this.transforms[e]=function(){for(var e=arguments.length,o=Array(e),u=0;u<e;u++)o[u]=arguments[u];r.transform(function(e){return t.apply(void 0,[e].concat(o))},n)}}},{key:"compute",value:function(e,t){var n=this;this.computeds[e]=function(){return t(n.value)}}},{key:"proxy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.alias,r=void 0===n?e:n,o=t.mutates,u=void 0!==o&&o;this.define(r,function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=t[e].apply(t,r);return u?t:a},t)}},{key:"render",value:function(){var e=this.props,t=this.transforms,n=this.computeds,r=this.value,u=e.children,a=e.render,i=e.disabled,c=void 0!==i&&i,l=u||a;if(null===l)return null;var f=o({value:r,disabled:c},t);for(var s in n)f[s]=n[s]();return"function"==typeof l?l(f):l}},{key:"value",get:function(){var e=this.state,t=this.props;return e.controlled?t.value:e.value}}]),t}(t.Component),c=function(e){function t(){var e;n(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];var i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o,[[]])));return i.compute("first",function(e){return e[0]}),i.compute("last",function(e){return e[Math.max(0,e.length-1)]}),i.proxy("concat"),i.proxy("fill",{mutates:!0}),i.proxy("filter"),i.proxy("flat"),i.proxy("flatMap"),i.proxy("map"),i.proxy("pop",{mutates:!0}),i.proxy("push",{mutates:!0}),i.proxy("reverse",{mutates:!0}),i.proxy("shift",{mutates:!0}),i.proxy("slice"),i.proxy("sort",{mutates:!0}),i.proxy("splice",{mutates:!0}),i.proxy("unshift",{mutates:!0}),i}return u(t,i),r(t,[{key:"clone",value:function(e){return e.slice()}}]),t}(),l=function(e){function t(){var e;n(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];var i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o,[!1])));return i.define("toggle",function(e){return!e}),i}return u(t,i),t}(),f=1e3,s=6e4,p=36e5,d=function(e){function t(){var e;n(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];var i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o,[new Date])));return i.compute("date",function(e){return e.getDate()}),i.compute("hours",function(e){return e.getHours()}),i.compute("milliseconds",function(e){return e.getMilliseconds()}),i.compute("minutes",function(e){return e.getMinutes()}),i.compute("month",function(e){return e.getMonth()}),i.compute("seconds",function(e){return e.getSeconds()}),i.compute("year",function(e){return e.getFullYear()}),i.define("setMonth",m),i.proxy("setDate",{mutates:!0}),i.proxy("setFullYear",{alias:"setYear",mutates:!0}),i.proxy("setFullYear",{mutates:!0}),i.proxy("setHours",{mutates:!0}),i.proxy("setMilliseconds",{mutates:!0}),i.proxy("setMinutes",{mutates:!0}),i.proxy("setSeconds",{mutates:!0}),i.define("incrementDate",function(e){return y(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}),i.define("incrementHours",function(e){return v(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)*p)}),i.define("incrementMilliseconds",function(e){return v(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}),i.define("incrementMinutes",function(e){return v(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)*s)}),i.define("incrementMonth",function(e){return h(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}),i.define("incrementSeconds",function(e){return v(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)*f)}),i.define("incrementYear",function(e){return h(e,12*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}),i.define("decrementDate",function(e){return y(e,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}),i.define("decrementHours",function(e){return v(e,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)*p)}),i.define("decrementMilliseconds",function(e){return v(e,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}),i.define("decrementMinutes",function(e){return v(e,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)*s)}),i.define("decrementMonth",function(e){return h(e,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}),i.define("decrementSeconds",function(e){return v(e,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)*f)}),i.define("decrementYear",function(e){return h(e,0-12*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}),i}return u(t,i),r(t,[{key:"clone",value:function(e){return new Date(e.getTime())}}]),t}();function v(e,t){return new Date(e.getTime()+t)}function y(e,t){var n=new Date(e.getTime());return n.setDate(n.getDate()+t),n}function h(e,t){var n=e.getFullYear(),r=e.getMonth()+t,o=new Date(0);o.setFullYear(n,r,1),o.setHours(0,0,0,0);var u=g(o);return e.setMonth(r,Math.min(u,e.getDate())),e}function m(e,t){var n=new Date(e.getTime()),r=n.getFullYear(),o=n.getDate(),u=new Date(0);u.setFullYear(r,t,15),u.setHours(0,0,0,0);var a=g(u);return n.setMonth(t,Math.min(o,a)),n}function g(e){var t=e.getFullYear(),n=e.getMonth(),r=new Date(0);return r.setFullYear(t,n+1,0),r.setHours(0,0,0,0),r.getDate()}var x=function(e){function t(){var e;n(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];var i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o,[new Map])));return i.define("set",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0];return 1===n.length?"function"==typeof o?o(e):o:e.set.apply(e,n)}),i.proxy("clear",{mutates:!0}),i.proxy("delete",{mutates:!0}),i.proxy("delete",{alias:"unset",mutates:!0}),i}return u(t,i),r(t,[{key:"clone",value:function(e){return new Map(e)}}]),t}(),_=function(e){function t(){var e;n(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];var i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o,[0])));return i.define("increment",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="number"!=typeof t?1:t;return Math.min(e+n,i.props.max)}),i.define("decrement",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="number"!=typeof t?1:t;return Math.max(e-n,i.props.min)}),i}return u(t,i),t}();_.defaultProps={max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER};var b=function(e){function t(){var e;n(this,t);for(var r=arguments.length,u=Array(r),i=0;i<r;i++)u[i]=arguments[i];var c=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u,[{}])));return c.define("set",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var u=n[0];if(1===n.length)return"function"==typeof u?u(e):u;var a=n[0],i=n[1],c=o({},e);return c[a]=i,c}),c.define("assign",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o({},e,t)}),c.define("clear",function(){return{}}),c.define("delete",O),c.define("unset",O),c}return u(t,i),r(t,[{key:"clone",value:function(e){return o({},e)}}]),t}();function O(e,t){var n=o({},e);return delete n[t],n}var M=function(e){function t(){var e;n(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];var i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o,[new Set])));return i.define("toggle",function(e,t,n){return n?e.add(t):(e.delete(t),e)},{mutates:!0}),i.proxy("add"),i.proxy("clear",{mutates:!0}),i.proxy("delete",{mutates:!0}),i.proxy("delete",{alias:"remove",mutates:!0}),i}return u(t,i),r(t,[{key:"clone",value:function(e){return new Set(e)}}]),t}(),w=function(e){function t(){var e;n(this,t);for(var r=arguments.length,o=Array(r),u=0;u<r;u++)o[u]=arguments[u];var i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o,[""])));return i.proxy("concat"),i.proxy("normalize"),i.proxy("padEnd"),i.proxy("padStart"),i.proxy("repeat"),i.proxy("replace"),i.proxy("slice"),i.proxy("substr"),i.proxy("substring"),i.proxy("toLowerCase"),i.proxy("toUpperCase"),i.proxy("trim"),i.proxy("trimEnd"),i.proxy("trimStart"),i}return u(t,i),t}();e.AnyValue=i,e.ArrayValue=c,e.BooleanValue=l,e.DateValue=d,e.MapValue=x,e.NumberValue=_,e.ObjectValue=b,e.SetValue=M,e.StringValue=w,Object.defineProperty(e,"__esModule",{value:!0})});
